<!-- pages/billing.html -->

<div class="content-layout">

  <!-- LEFT COLUMN -->
  <div class="left-column">

    <!-- Customer Details -->
    <section class="card">
      <h2 class="card-title">Customer Details</h2>

      <div class="customer-grid">
        <div class="field">
          <label for="customerMobile">Mobile Number</label>
          <div class="field-inline">
            <input
              id="customerMobile"
              type="text"
              placeholder="Enter 10-digit mobile"
              class="input"
              maxlength="10"
            />
            <button class="btn btn-secondary" id="fetchCustomerBtn">
              Fetch
            </button>
          </div>
          
          <!-- Customer name display (shown when found) -->
          <div id="customerNameDisplay" style="display: none; margin-top: 8px; padding: 8px 12px; background: #f0fdf4; border-radius: 6px; border: 1px solid #86efac;">
            <div style="font-size: 12px; color: #16a34a; margin-bottom: 2px;">Customer Name</div>
            <div id="customerNameText" style="font-weight: 600; color: #15803d;"></div>
          </div>
          
          <!-- Name input shown when adding new customer -->
          <div id="customerNameField" style="display: none; margin-top: 8px;">
            <input
              id="customerName"
              type="text"
              placeholder="Enter customer name"
              class="input"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Add Items -->
    <section class="card">
      <h2 class="card-title">Add Items</h2>

      <div class="search-row">
        <input
          id="searchInput"
          type="text"
          placeholder="Search medicine by name or scan barcode..."
          class="input"
        />
      </div>

      <div class="items-table">
        <div class="items-header">
          <div class="col-item">Item</div>
          <div class="col-qty">Qty</div>
          <div class="col-price">Price</div>
          <div class="col-total">Total</div>
          <div class="col-action">Action</div>
        </div>

        <div id="itemsBody"></div>
      </div>
    </section>
  </div>

  <!-- RIGHT COLUMN -->
  <div class="right-column">

    <!-- Bill Summary -->
    <section class="card bill-card">
      <h2 class="card-title">Bill Summary</h2>

      <div class="bill-row">
        <span>Items</span>
        <span id="summaryItems">0</span>
      </div>

      <div class="bill-row">
        <span>Subtotal</span>
        <span id="summarySubtotal">₹0.00</span>
      </div>

      <div class="bill-row">
        <span>GST (12%)</span>
        <span id="summaryGST">₹0.00</span>
      </div>

      <hr />

      <div class="bill-row bill-total">
        <span>Grand Total</span>
        <span id="summaryGrand">₹0.00</span>
      </div>

      <button class="btn btn-primary full-width" id="generateBillBtn">
        Generate Bill
      </button>

      <div class="quick-actions">
        <button class="btn btn-outline" id="holdBillBtn">Hold Bill</button>
        <button class="btn btn-outline" id="clearAllBtn">Clear All</button>
      </div>
    </section>

    <!-- Recent Bills -->
    <section class="card">
      <h2 class="card-title">Recent Bills</h2>
      <div id="recentBillsList" class="recent-list">
        <div style="text-align: center; color: #9ca3af; padding: 20px;">Loading...</div>
      </div>
    </section>
  </div>
</div>

